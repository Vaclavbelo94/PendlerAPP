
<!DOCTYPE html>
<html lang="cs">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <!-- DNS prefetch pro externí zdroje -->
    <link rel="dns-prefetch" href="https://fonts.googleapis.com" />
    <link rel="dns-prefetch" href="https://ghfjdgnnhhxhamcwjodx.supabase.co" />
    
    <!-- Font optimalizace -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    
    <title>Pendlerův Pomocník - Komplexní průvodce pro pracovníky v Německu</title>
    <meta name="description" content="Kompletní průvodce pro Čechy pracující v Německu. Výuka němčiny, kalkulačky mezd, správa směn, vozidel a právní poradenství pro pendlery." />
    <meta name="keywords" content="pendler, práce v Německu, výuka němčiny, daňová kalkulačka, směny, vozidla, přeshraniční práce, čeští pracovníci" />
    <meta name="author" content="Pendlerův Pomocník" />
    <meta name="robots" content="index, follow" />

    <!-- Canonical URL -->
    <link rel="canonical" href="https://pendlerapp.cz" />
    
    <!-- Hreflang for Czech-German target audience -->
    <link rel="alternate" hreflang="cs" href="https://pendlerapp.cz" />
    <link rel="alternate" hreflang="de" href="https://pendlerapp.cz/de" />
    
    <!-- Geo targeting -->
    <meta name="geo.region" content="CZ" />
    <meta name="geo.placename" content="Czech Republic" />
    <meta name="geo.position" content="49.75;15.5" />
    <meta name="ICBM" content="49.75, 15.5" />

    <!-- Performance optimizations -->
    <meta name="theme-color" content="#3b82f6" />
    <meta name="color-scheme" content="light dark" />
    
    <!-- Mobile optimizations - FIXED deprecated meta tag -->
    <meta name="format-detection" content="telephone=no" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="Pendlerův Pomocník" />
    
    <!-- Open Graph for social sharing -->
    <meta property="og:title" content="Pendlerův Pomocník - Průvodce pro pracovníky v Německu" />
    <meta property="og:description" content="Komplexní průvodce pro Čechy pracující v Německu. Výuka němčiny, kalkulačky, správa směn a vozidel." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://pendlerapp.cz" />
    <meta property="og:image" content="https://pendlerapp.cz/lovable-uploads/88ef4e0f-4d33-458c-98f4-7b644e5b8588.png" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:locale" content="cs_CZ" />
    <meta property="og:site_name" content="Pendlerův Pomocník" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Pendlerův Pomocník" />
    <meta name="twitter:description" content="Komplexní průvodce pro Čechy pracující v Německu" />
    <meta name="twitter:image" content="https://pendlerapp.cz/lovable-uploads/88ef4e0f-4d33-458c-98f4-7b644e5b8588.png" />
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/lovable-uploads/88ef4e0f-4d33-458c-98f4-7b644e5b8588.png" />
    <link rel="apple-touch-icon" href="/lovable-uploads/88ef4e0f-4d33-458c-98f4-7b644e5b8588.png" />
    
    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "Pendlerův Pomocník",
      "description": "Komplexní průvodce pro Čechy pracující v Německu",
      "url": "https://pendlerapp.cz",
      "logo": "https://pendlerapp.cz/lovable-uploads/88ef4e0f-4d33-458c-98f4-7b644e5b8588.png",
      "contactPoint": {
        "@type": "ContactPoint",
        "telephone": "+420-725-458-395",
        "contactType": "customer service",
        "email": "info@pendlerapp.cz"
      },
      "address": {
        "@type": "PostalAddress",
        "addressCountry": "CZ"
      },
      "sameAs": [
        "https://www.facebook.com/pendlerapp",
        "https://www.instagram.com/pendlerapp"
      ]
    }
    </script>
    
    <!-- Critical CSS inlining -->
    <style id="critical-css">
      /* Critical above-the-fold styles */
      body { margin: 0; font-family: system-ui, -apple-system, sans-serif; }
      .loading-skeleton {
        background: linear-gradient(90deg, #f3f4f6 25%, #e5e7eb 50%, #f3f4f6 75%);
        background-size: 200% 100%;
        animation: shimmer 2s infinite;
      }
      
      @keyframes shimmer {
        0% { background-position: -200% 0; }
        100% { background-position: 200% 0; }
      }
      
      /* Emergency localStorage cleanup styles */
      .storage-error {
        position: fixed;
        top: 20px;
        right: 20px;
        background: #ef4444;
        color: white;
        padding: 1rem;
        border-radius: 8px;
        z-index: 9999;
      }
    </style>
    
    <!-- Emergency localStorage cleanup script -->
    <script>
      (function() {
        try {
          // Check if localStorage is working
          localStorage.setItem('test', 'test');
          localStorage.removeItem('test');
        } catch (e) {
          if (e.name === 'QuotaExceededError') {
            console.warn('LocalStorage quota exceeded on page load, clearing...');
            try {
              localStorage.clear();
              window.location.reload();
            } catch (clearError) {
              console.error('Cannot clear localStorage:', clearError);
              // Show user notification
              var div = document.createElement('div');
              div.className = 'storage-error';
              div.innerHTML = 'Úložiště prohlížeče je plné. Zkuste vymazat data prohlížeče a načíst stránku znovu.';
              document.body.appendChild(div);
            }
          }
        }
      })();
    </script>
  </head>

  <body>
    <div id="root"></div>
    <!-- IMPORTANT: DO NOT REMOVE THIS SCRIPT TAG OR THIS VERY COMMENT! -->
    <script src="https://cdn.gpteng.co/gptengineer.js" type="module"></script>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
